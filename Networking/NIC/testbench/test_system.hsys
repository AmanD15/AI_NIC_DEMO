$system test_system $library test_lib
$in


	// to mac.
	$pipe tb_to_mac_data 		64 
	$pipe tb_to_mac_ctrl		16

	// This is the response from the 
	// memory modeled in the tb 
	$pipe TB_MEM_TO_TEST_SYSTEM	64

	$pipe tb_to_nic_slave_request   64

	// This is the request from the
	// processor to the memory 
	//  (muxed with nic request in test_system)
	$pipe TB_PROCESSOR_TO_MEM	64

	
$out
	// from mac.
	$pipe mac_to_tb_data  		64
	$pipe mac_to_tb_ctrl 		64

	// request from the muxed memory
	// request to the tb memory model.
	$pipe TEST_SYSTEM_TO_TB_MEM	64

	$pipe nic_slave_response_to_tb	32

	$signal MAC_ENABLE_8             8

	// response to mem request from processor in tb
	$pipe MEM_TO_TB_PROCESSOR
	
{
	
	// tester instance
	$instance tester_inst tester_lib: tester
		AFB_NIC_REQUEST => AFB_NIC_REQUEST
		AFB_NIC_RESPONSE => AFB_NIC_RESPONSE
		nic_to_mac_transmit_pipe => nic_to_mac_transmit_pipe
		mac_to_nic_data => mac_to_nic_data
		MAC_ENABLE => MAC_ENABLE
		MAC_ENABLE_8 => MAC_ENABLE_8
		tb_to_mac_ctrl => tb_to_mac_ctrl
		tb_to_mac_data => tb_to_mac_data
		tb_to_nic_slave_request => tb_to_nic_slave_request
		nic_slave_response_to_tb => nic_slave_response_to_tb
		mac_to_tb_ctrl => mac_to_tb_ctrl
		mac_to_tb_data => mac_to_tb_data
		PROCESSOR_ACB_MEM_REQUEST => PROCESSOR_ACB_MEM_REQUEST
		PROCESSOR_ACB_MEM_RESPONSE => PROCESSOR_ACB_MEM_RESPONSE
		MERGED_ACB_REQUEST  => MERGED_ACB_REQUEST
		MERGED_ACB_RESPONSE => MERGED_ACB_RESPONSE
		TB_MEM_TO_TEST_SYSTEM => TB_MEM_TO_TEST_SYSTEM
		TEST_SYSTEM_TO_TB_MEM => TEST_SYSTEM_TO_TB_MEM
		TB_PROCESSOR_TO_MEM => TB_PROCESSOR_TO_MEM
		MEM_TO_TB_PROCESSOR => MEM_TO_TB_PROCESSOR
	

	// nic instance
	$instance nic_inst     nic_lib: nic
		AFB_NIC_REQUEST => AFB_NIC_REQUEST
		AFB_NIC_RESPONSE => AFB_NIC_RESPONSE
		NIC_TO_MEMORY_REQUEST => NIC_TO_MEMORY_REQUEST
		MEMORY_TO_NIC_RESPONSE => MEMORY_TO_NIC_RESPONSE
		nic_to_mac_transmit_pipe => nic_to_mac_transmit_pipe
		mac_to_nic_data => mac_to_nic_data
		MAC_ENABLE => MAC_ENABLE
		
		

	// acb mux instance
	$instance acb_mux_inst  GlueModules: acb_fast_mux
		CORE_BUS_REQUEST_HIGH => NIC_TO_MEMORY_REQUEST
		CORE_BUS_RESPONSE_HIGH  =>  MEMORY_TO_NIC_RESPONSE

		CORE_BUS_REQUEST_LOW   => PROCESSOR_ACB_MEM_REQUEST
		CORE_BUS_RESPONSE_LOW  =>  PROCESSOR_ACB_MEM_RESPONSE

		CORE_BUS_REQUEST  => MERGED_ACB_REQUEST
		CORE_BUS_RESPONSE => MERGED_ACB_RESPONSE
		
			
}
